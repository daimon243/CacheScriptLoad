function k(){this.a=this.c=null;this.b={j:0,m:1,h:2};this.g={l:0,o:1,i:2}}k.prototype.load=function(a,d){this.c=d?l(this,a,d):a;this.a={};for(var b in this.c.modules)Object.prototype.hasOwnProperty.call(this.c.modules,b)&&(this.a[b]=this.c.modules[b].load,this.a[b].f=this.b.j);n(this)};k.prototype.getcfg=function(){return this.c};
function n(a){var d=!0,b;for(b in a.a){if(a.a[b].f===a.b.j){var d=!1,e=a.a[b].after,f=!0;if(e)for(var c=0,g=e.length;c<g;c++)if(a.a[e[c]].f!==a.b.h){f=!1;break}if(f&&a.a[b].f!==a.b.m){a.a[b].f=a.b.m;var f=a,h=b,m=f.a[h].version,g=f.a[h].url,c=f.a[h].cache;(e=localStorage.getItem(h))&&c!==f.g.l?(e=JSON.parse(e),e.version!==m?(localStorage.removeItem(h),p(f,g,h,c,m)):(q(e.content,g),f.a[h].f=f.b.h,n(f))):p(f,g,h,c,m)}}a.a[b].f===a.b.h||(d=!1)}if(d&&a.c.onLoad)a.c.onLoad()}
function r(a,d){a.a[d].f=a.b.h;n(a)}function t(a,d,b,e,f){if(f!==a.g.l){var c=new XMLHttpRequest;u(c,'readystatechange',function(){4===c.readyState&&200===c.status&&(localStorage.setItem(d,JSON.stringify({content:c.responseText,version:b})),f===a.g.i&&q(c.responseText,e),r(a,d))});c.open('GET',e,!0);c.send()}else r(a,d)}
function p(a,d,b,e,f){var c=null,g=d.substring(d.length-3);'.js'===g?c=document.createElement('script'):'css'===g&&(c=document.createElement('link'));c.readyState?u(c,'readystatechange',function(){if('loaded'===c.readyState||'complete'===c.readyState)c.onreadystatechange=null,t(a,b,f,d,e)}):u(c,'load',function(){t(a,b,f,d,e)});e!==a.g.i?('.js'===g?c.setAttribute('src',d):'css'===g&&(c.setAttribute('href',d),c.setAttribute('rel','stylesheet'),c.setAttribute('type','text/css'),c.setAttribute('media',
'screen, projection')),document.getElementsByTagName('head')[0].appendChild(c)):t(a,b,f,d,e)}
function q(a,d){var b=d.substring(d.length-3);'.js'===b?(b=document.createElement('script'),b.type='text/javascript',b.text=a,document.getElementsByTagName('head')[0].appendChild(b)):'css'===b&&(b=document.createElement('style'),b.type='text/css',b.rel='stylesheet',b.media='screen, projection',b.styleSheet?b.styleSheet.cssText=a:b.appendChild(document.createTextNode(a)),document.getElementsByTagName('head')[0].appendChild(b))}
function u(a,d,b){a.addEventListener?a.addEventListener(d,b,!1):a.attachEvent?a.attachEvent('on'+d,b):a['on'+d]=b}function l(a,d,b){var e={},f;for(f in d)d.hasOwnProperty(f)&&(e[f]=d[f]);for(var c in b)b.hasOwnProperty(c)&&(e.hasOwnProperty(c)?'object'===typeof e[c]&&e[c].constructor===Object&&'object'===typeof b[c]&&b[c].constructor===Object&&(e[c]=l(a,e[c],b[c])):e[c]=b[c]);return e}'loader'in window?document.write('error create loader'):(window.loader=new k,window.loader.getcfg());
